<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Jogo da Nave</title>
  <style>
    body {
      margin: 0;
      background: black;
      color: white;
      text-align: center;
      font-family: Arial, sans-serif;
    }
    canvas {
      background: black;
      display: block;
      margin: auto;
      border: 2px solid #0ff;
    }
  </style>
</head>
<body>
  <h2>ğŸš€ Jogo da Nave (versÃ£o estÃ¡vel)</h2>
  <p>â† â†’ mover | â†‘ atirar</p>
  <canvas id="game" width="400" height="600"></canvas>

  <script>
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    // IMAGENS
    const imgNave = new Image(); imgNave.src = "playerShip1_red.png";
    const imgInimigo = new Image(); imgInimigo.src = "enemyBlue1.png";
    const imgLaser = new Image(); imgLaser.src = "laserRed06.png";

    const nave = { x: 180, y: 520, w: 40, h: 40, speed: 5 };
    const tiros = [];
    const inimigos = [];

    const teclas = {};
    document.addEventListener("keydown", e => teclas[e.key] = true);
    document.addEventListener("keyup", e => teclas[e.key] = false);

    let ultimoTiro = 0;
    const intervaloTiro = 250;

    function atirar() {
      const agora = Date.now();
      if (agora - ultimoTiro > intervaloTiro) {
        ultimoTiro = agora;
        tiros.push({ x: nave.x + nave.w / 2 - 2, y: nave.y, speed: 7 });
      }
    }

    function criarInimigo() {
      inimigos.push({ x: Math.random() * 360, y: -40, w: 40, h: 40, speed: 2 });
    }

    setInterval(criarInimigo, 1200);

    function atualizar() {
      if (teclas["ArrowLeft"] && nave.x > 0) nave.x -= nave.speed;
      if (teclas["ArrowRight"] && nave.x < 360) nave.x += nave.speed;
      if (teclas["ArrowUp"]) atirar();

      tiros.forEach(t => t.y -= t.speed);
      inimigos.forEach(i => i.y += i.speed);

      for (let i = tiros.length - 1; i >= 0; i--) {
        if (tiros[i].y < -20) tiros.splice(i, 1);
      }

      for (let i = inimigos.length - 1; i >= 0; i--) {
        if (inimigos[i].y > canvas.height + 40) inimigos.splice(i, 1);
      }
    }

    function desenhar() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      ctx.drawImage(imgNave, nave.x, nave.y, nave.w, nave.h);
      tiros.forEach(t => ctx.drawImage(imgLaser, t.x, t.y, 5, 15));
      inimigos.forEach(i => ctx.drawImage(imgInimigo, i.x, i.y, i.w, i.h));
    }

    function loop() {
      atualizar();
      desenhar();
      requestAnimationFrame(loop);
    }

    loop();
  </script>
</body>
</html>
