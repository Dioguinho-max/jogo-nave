<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Jogo da Nave</title>
  <style>
    body {
      margin: 0;
      background: black;
      color: white;
      text-align: center;
      font-family: Arial, sans-serif;
    }
    canvas {
      background: black;
      display: block;
      margin: auto;
      border: 2px solid white;
    }
  </style>
</head>
<body>
  <h2>ðŸš€ Jogo da Nave Espacial</h2>
  <p>Setas para mover | EspaÃ§o para atirar</p>
  <canvas id="game" width="400" height="600"></canvas>

  <script>
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    const nave = { x: 180, y: 520, w: 40, h: 40, speed: 5 };
    const tiros = [];
    const inimigos = [];
    const tirosInimigos = [];

    const teclas = {};

    document.addEventListener("keydown", e => teclas[e.key] = true);
    document.addEventListener("keyup", e => teclas[e.key] = false);

    function atirar() {
      tiros.push({ x: nave.x + 18, y: nave.y, speed: 7 });
    }

    document.addEventListener("keydown", e => {
      if (e.code === "Space") atirar();
    });

    function criarInimigo() {
      inimigos.push({
        x: Math.random() * 360,
        y: -40,
        w: 40,
        h: 40,
        speed: 2
      });
    }

    setInterval(criarInimigo, 1200);

    function atualizar() {
      if (teclas["ArrowLeft"] && nave.x > 0) nave.x -= nave.speed;
      if (teclas["ArrowRight"] && nave.x < 360) nave.x += nave.speed;

      tiros.forEach(t => t.y -= t.speed);
      inimigos.forEach(i => i.y += i.speed);

      inimigos.forEach(i => {
        if (Math.random() < 0.01) {
          tirosInimigos.push({ x: i.x + 18, y: i.y + 40, speed: 4 });
        }
      });

      tirosInimigos.forEach(t => t.y += t.speed);

      colisao();
    }

    function colisao() {
      tiros.forEach((t, ti) => {
        inimigos.forEach((i, ii) => {
          if (t.x < i.x + i.w && t.x + 5 > i.x && t.y < i.y + i.h && t.y + 10 > i.y) {
            inimigos.splice(ii, 1);
            tiros.splice(ti, 1);
          }
        });
      });
    }

    function desenhar() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      ctx.fillStyle = "cyan";
      ctx.fillRect(nave.x, nave.y, nave.w, nave.h);

      ctx.fillStyle = "yellow";
      tiros.forEach(t => ctx.fillRect(t.x, t.y, 5, 10));

      ctx.fillStyle = "red";
      inimigos.forEach(i => ctx.fillRect(i.x, i.y, i.w, i.h));

      ctx.fillStyle = "orange";
      tirosInimigos.forEach(t => ctx.fillRect(t.x, t.y, 5, 10));
    }

    function loop() {
      atualizar();
      desenhar();
      requestAnimationFrame(loop);
    }

    loop();
  </script>
</body>
</html>
